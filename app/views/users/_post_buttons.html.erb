<%# _post_buttons.html.erb %>
<%# Make sure this partial receives `post` as a local %>
<% if current_user == post.user %>
  <div data-controller="dropdown" class="relative inline-block text-left">
    <!-- Trigger Button -->
    <button 
      data-action="click->dropdown#toggle"
      data-dropdown-target="trigger"
      class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none">
      <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
        <circle cx="5" cy="12" r="2"/>
        <circle cx="12" cy="12" r="2"/>
        <circle cx="19" cy="12" r="2"/>
      </svg>
    </button>

    <!-- Dropdown Menu -->
    <div
      data-dropdown-target="menu"
      class="absolute right-0 z-10 mt-2 w-44 origin-top-right rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none hidden"
    >
      <ul class="py-1 text-sm text-gray-700 dark:text-gray-200">
        <li>
          <%= link_to "Edit", edit_post_path(post), 
              class: "block px-4 py-2 hover:bg-gray-700 dark:hover:bg-gray-400  transition-colors duration-150" %>
        </li>
        <li>
          <%= link_to "Delete", post_path(post), 
              method: :delete, 
              data: { 
                confirm: "Are you sure you want to delete this post?",
                turbo_method: :delete 
              }, 
              class: "block px-4 py-2 hover:bg-gray-700 dark:hover:bg-gray-400  text-red-600 dark:text-red-400 transition-colors duration-150" %>
        </li>
      </ul>

    </div>
  </div>
<% end %>