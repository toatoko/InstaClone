<%# layouts/_session_manager.html.erb %>
<% if current_user %>
    <div class="relative" x-data="{ open: false }" class="relative">
      <!-- Dropdown trigger -->
       <button 
            @click="open = !open"
            class="px-3 py-1 rounded-md bg-indigo-600 text-black font-semibold text-sm transition duration-150 ease-in-out motion-reduce:transition-none">
            <%= current_user.username %>
        </button>


      <!-- Dropdown menu -->
      <ul   x-show="open"
            @click.away="open = false"
            class="absolute right-0 z-50 mt-2 w-48 rounded-md bg-white py-1 text-sm shadow-lg dark:bg-neutral-800"
            x-transition>
        <li>
          <%= link_to "Profile", profile_path, 
              class: "block w-full whitespace-nowrap bg-white px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-zinc-200/60 focus:bg-zinc-200/60 focus:outline-none active:bg-zinc-200/60 active:no-underline dark:bg-neutral-800 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700 dark:active:bg-neutral-700" %>
        </li>
        <li>
          <%= link_to "Settings", edit_user_registration_path, 
              class: "block w-full whitespace-nowrap bg-white px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-zinc-200/60 focus:bg-zinc-200/60 focus:outline-none active:bg-zinc-200/60 active:no-underline dark:bg-neutral-800 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700 dark:active:bg-neutral-700" %>
        </li>
        <li>
          <%= link_to "Sign out", destroy_user_session_path, 
              method: :delete, 
              class: "block w-full whitespace-nowrap bg-white px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-zinc-200/60 focus:bg-zinc-200/60 focus:outline-none active:bg-zinc-200/60 active:no-underline dark:bg-neutral-800 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700 dark:active:bg-neutral-700" %>
        </li>
      </ul>
    </div>
<% else %>
  <div class="relative flex items-center">
    <%= link_to 'Sign-up', new_user_registration_path, class: "btn-primary mr-2" %>
    <%= link_to 'Log-in', new_user_session_path, class: "btn-primary mr-2" %>
  </div>
<% end %>